.code-block {
  position: relative;
  border-radius: var(--globals-border-radius);
  border: 1px solid var(--globals-border-color);
  background: var(--shade-surface);
  overflow: hidden;
  margin: 1.5em 0;
}

.code-block-header {
  position: absolute;
  top: 0.5rem;
  right: 0.5rem;
  z-index: 1;
}

.code-block-pre {
  margin: 0;
  padding: 1rem;
  background: transparent !important;
  font-family: var(--font-mono, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace);
  font-size: var(--code-font-size, 0.875rem);
  line-height: var(--code-line-height, 1.7);
  white-space: pre;
  overflow-x: auto;
}

.code-block-pre code {
  font-family: inherit;
  background: transparent;
}

/* Shiki dual theme support - dark mode by default */
.shiki-theme :global(.shiki),
.shiki-theme :global(.shiki span) {
  color: var(--shiki-dark) !important;
  background-color: var(--shiki-dark-bg, transparent) !important;
  font-style: var(--shiki-dark-font-style) !important;
  font-weight: var(--shiki-dark-font-weight) !important;
  text-decoration: var(--shiki-dark-text-decoration) !important;
}

/* Light mode support */
@media (prefers-color-scheme: light) {
  .shiki-theme :global(.shiki),
  .shiki-theme :global(.shiki span) {
    color: var(--shiki-light) !important;
    background-color: var(--shiki-light-bg, transparent) !important;
    font-style: var(--shiki-light-font-style) !important;
    font-weight: var(--shiki-light-font-weight) !important;
    text-decoration: var(--shiki-light-text-decoration) !important;
  }
}
