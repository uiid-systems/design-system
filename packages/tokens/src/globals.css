@import "./css/primitives/colors.tokens.css";
@import "./css/primitives/spacing.tokens.css";

:root {
  --white: white;
  --black: black;

  --shade-background: var(--background, var(--white));
  --shade-foreground: var(--black, var(--black));

  /* Percentages for light/dark variants */
  --percentage-surface-light: 98%;
  --percentage-muted-light: 85%;
  --percentage-accent-light: 35%;

  --percentage-surface-dark: 80%;
  --percentage-muted-dark: 65%;
  --percentage-accent-dark: 20%;

  /* Active percentages default to light */
  --percentage-surface: var(--percentage-surface-light);
  --percentage-muted: var(--percentage-muted-light);
  --percentage-accent: var(--percentage-accent-light);

  /* Mixed shades */
  --shade-accent: color-mix(in oklab, var(--shade-foreground), var(--shade-background) var(--percentage-accent));
  --shade-halftone: color-mix(in oklab, var(--shade-foreground), var(--shade-background) 50%);
  --shade-muted: color-mix(in oklab, var(--shade-foreground), var(--shade-background) var(--percentage-muted));
  --shade-surface: color-mix(in oklab, var(--shade-foreground), var(--shade-background) var(--percentage-surface));
}

/* Switch based on system preference if no explicit data-theme */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    --percentage-surface: var(--percentage-surface-dark);
    --percentage-muted: var(--percentage-muted-dark);
    --percentage-accent: var(--percentage-accent-dark);

    --shade-background: var(--black);
    --shade-foreground: var(--white);
  }
}

/* Explicit theme overrides */
:root[data-theme="light"] {
  --percentage-surface: var(--percentage-surface-light);
  --percentage-muted: var(--percentage-muted-light);
  --percentage-accent: var(--percentage-accent-light);

  --shade-background: var(--white);
  --shade-foreground: var(--black);
}

:root[data-theme="dark"] {
  --percentage-surface: var(--percentage-surface-dark);
  --percentage-muted: var(--percentage-muted-dark);
  --percentage-accent: var(--percentage-accent-dark);

  --shade-background: var(--black);
  --shade-foreground: var(--white);
}

body {
  background-color: var(--shade-background);
  color: var(--shade-foreground);
  font-family:
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    Roboto,
    Oxygen,
    Ubuntu,
    Cantarell,
    "Open Sans",
    "Helvetica Neue",
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

* {
  box-sizing: border-box;
}
