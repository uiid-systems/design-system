@import "@uiid/tokens/components/input.tokens.css";

/** Input */
[uiid="input"],
[uiid="select"],
[data-uiid="checkbox-label"] {
  font-size: var(--formfield-fontSize);
  height: var(--formfield-height);
  padding-inline: var(--formfield-paddingX);
  width: -webkit-fill-available;

  /** TODO: be less hacky */
  &[uiid="select"] {
    height: calc(var(--formfield-height) - 2px);
  }

  &:where([data-size="sm"]) {
    --formfield-fontSize: var(--formfield-size-sm-fontSize);
    --formfield-paddingX: var(--formfield-size-sm-paddingX);
    --formfield-height: var(--formfield-size-sm-height);
  }

  &:where([data-size="md"]) {
    --formfield-fontSize: var(--formfield-size-md-fontSize);
    --formfield-paddingX: var(--formfield-size-md-paddingX);
    --formfield-height: var(--formfield-size-md-height);
  }

  &:where([data-size="lg"]) {
    --formfield-fontSize: var(--formfield-size-lg-fontSize);
    --formfield-paddingX: var(--formfield-size-lg-paddingX);
    --formfield-height: var(--formfield-size-lg-height);
  }

  &:-webkit-autofill,
  &:-webkit-autofill:focus {
    transition:
      background-color 600000s 0s,
      color 600000s 0s;
  }
}

/* Input, Slots container */
[uiid="input"],
[data-slot="formfield-slots"] {
  background-color: var(--input-background);
  border: var(--input-border-width) solid var(--input-border-color);
  border-radius: var(--input-border-radius);
  color: var(--input-foreground);
  outline-offset: var(--input-outline-offset);
  outline-color: var(--input-outline-color);
  outline-width: var(--input-outline-width);

  /** Validation */
  &:not(:placeholder-shown)[data-validate="true"],
  &:has(:not(:placeholder-shown)[data-validate="true"]) {
    /** Valid */
    &:valid,
    &:has(:valid) {
      border-color: var(--input-state-valid-borderColor);
      outline-color: var(--input-state-valid-outlineColor);
    }
    /** Invalid */
    &:invalid,
    &:has(:invalid) {
      border-color: var(--input-state-invalid-borderColor);
      outline-color: var(--input-state-invalid-outlineColor);
    }
  }

  /** Focus */
  &:focus,
  &:focus-within {
    background-color: var(--input-backgroundFocus);
    outline-style: var(--input-outline-style);
  }

  /** Disabled */
  &:disabled,
  &[data-disabled="true"] {
    border-style: dashed;
    pointer-events: none;
    opacity: var(--input-state-disabled-opacity);
  }
}

/** Slotted Input */
[data-slotted="true"] {
  background-color: transparent;
  outline: none;
  border: none;
  border-radius: 0;
  align-self: stretch;
  color: var(--shade-foreground);
  padding-inline: var(--formfield-paddingX);
}

/** Placeholder */
[uiid="input"]::placeholder {
  color: var(--input-placeholder-color);
  font-size: var(--formfield-fontSize);
  line-height: var(--formfield-lineHeight);
}
